<header th:fragment="header" xmlns:th="http://www.w3.org/1999/xhtml"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

	<div class="container">
		<div class="row">
			<div class="col-md-12">

				<!--Navbar -->
				<nav class="mb-1 navbar navbar-expand-lg navbar-dark info-color">
					<a class="navbar-brand" href="/">Auth/Reg Form</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse"
						data-target="#navbarSupportedContent-4" aria-controls="navbarSupportedContent-4"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent-4">
						<ul class="navbar-nav ml-auto">

							<li class="nav-item" sec:authorize="isAnonymous()">
								<a class="nav-link" data-toggle="modal" data-target="#modalLRFormDemo" href="#">
									Login
								</a>
							</li>

							<li class="nav-item dropdown" sec:authorize="isAuthenticated()">
								<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
									aria-haspopup="true" aria-expanded="false">
									<i class="fas fa-user"></i>
									<td th:text="${username}"></td>

								</a>
								<div class="dropdown-menu dropdown-menu-right dropdown-info"
									aria-labelledby="navbarDropdownMenuLink-4">
									<a class="dropdown-item" href="#">My account</a>
									<a class="dropdown-item" href="/user" sec:authorize="hasAuthority('ADMIN')">User
										List</a>
									<a class="dropdown-item" href="/logout">Log out</a>
								</div>
							</li>



						</ul>
					</div>
				</nav>
				<!--/.Navbar -->
			</div>
		</div>
	</div>

	<!-- Modal: Login / Registration Form-->
	<div class="modal fade" id="modalLRFormDemo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
		style="display: none;" aria-hidden="true">
		<div class="modal-dialog cascading-modal" role="document">
			<!--Content-->
			<div class="modal-content">

				<!--Modal cascading tabs-->
				<div class="modal-c-tabs">

					<!-- Nav tabs -->
					<ul class="nav nav-tabs md-tabs tabs-2 light-blue darken-3" role="tablist">
						<li class="nav-item waves-effect waves-light">
							<a class="nav-link active" data-toggle="tab" href="#panel17" role="tab"
								aria-selected="true">
								<i class="fas fa-user mr-1"></i> Login</a>
						</li>
						<li class="nav-item waves-effect waves-light">
							<a class="nav-link" data-toggle="tab" href="#panel18" role="tab" aria-selected="false">
								<i class="fas fa-user-plus mr-1"></i> Register</a>
						</li>
					</ul>

					<!-- Tab panels -->
					<div class="tab-content">
						<!--Panel 17-->
						<div class="tab-pane fade in active show" id="panel17" role="tabpanel">

							<!--Body-->
							<div class="modal-body mb-1" ng-app="login_form" ng-controller="AppCtrl">
								<form method="POST" action="/login" ng-submit="form.$valid && sendForm(auth)">
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									<div class="alert alert-danger alert-dismissible fade show" role="alert"
										style="display:none;">
										Something wrong! Try again...
										<button type="button" class="close" data-dismiss="alert" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>

									<div class="md-form form-sm">
										<i class="fas fa-envelope prefix active"></i>
										<input type="text" name="email" id="form2" class="form-control form-control-sm"
											ng-model="auth.email">
										<label for="form2" class="active">Your email</label>
									</div>

									<div class="md-form form-sm">
										<i class="fas fa-lock prefix"></i>
										<input type="password" name="password" id="form3"
											class="form-control form-control-sm" ng-model="auth.password">
										<label for="form3">Your password</label>
									</div>
									<div class="text-center mt-4">
										<button type="submit" class="btn btn-info waves-effect waves-light">Log in
											<i class="fas fa-sign-in ml-1"></i>
										</button>
									</div>
								</form>
							</div>
							<!--Footer-->
							<div class="modal-footer">
								<div class="options text-center text-md-right mt-1">
									<p>Forgot
										<a href="#" class="blue-text">Password?</a>
									</p>
								</div>
								<button type="button" class="btn btn-outline-info waves-effect ml-auto"
									data-dismiss="modal">Close</button>
							</div>

						</div>
						<!--/.Panel 7-->

						<!--Panel 18-->
						<div class="tab-pane fade" id="panel18" role="tabpanel">

							<!--Body-->
							<div class="modal-body">

								<div class="alert alert-danger alert-dismissible fade show" role="alert">
									Something wrong! Try another email...
									<button type="button" class="close" data-dismiss="alert" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>

								<form action="/reg" method="POST">
									<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
									<div class="md-form form-sm">
										<i class="fas fa-envelope prefix"></i>
										<input type="text" id="email" class="form-control form-control-sm">
										<label for="email" class="">Your email</label>
									</div>

									<div class="md-form form-sm">
										<i class="fas fa-lock prefix"></i>
										<input type="password" id="pass" class="form-control form-control-sm">
										<label for="pass" class="">Your password</label>
									</div>

									<div class="md-form form-sm">
										<i class="fas fa-user-nurse prefix"></i>
										<input type="text" id="name" class="form-control form-control-sm">
										<label for="name" class="">Your name</label>
									</div>

									<div class="md-form form-sm">
										<i class="fas fa-phone prefix"></i>
										<input type="number" id="number" class="form-control form-control-sm">
										<label for="number" class="">Your phone number</label>
									</div>

									<div class="text-center form-sm mt-4">
										<button type="submit" class="btn btn-info waves-effect waves-light">Sign up
											<i class="fas fa-sign-in ml-1"></i>
										</button>
									</div>
								</form>
							</div>
							<!--Footer-->
							<div class="modal-footer">
								<div class="options text-right">
									<p class="pt-1">Accepting all
										<a href="#" class="blue-text">agreements</a>
									</p>
								</div>
								<button type="button" class="btn btn-outline-info waves-effect ml-auto"
									data-dismiss="modal">Close</button>
							</div>
						</div>
						<!--/.Panel 8-->
					</div>

				</div>
			</div>
			<!--/.Content-->
		</div>
	</div>
	<!-- END Modal: Login / Registration Form-->

</header>